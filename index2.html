<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>COPD Patient Handout ‚Äì AdventHealth Ottawa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #f5f5f7;
      --card-bg: #ffffff;
      --text-main: #1d1d1f;
      --text-sub: #6e6e73;
      --accent-blue: #0071e3;
      --accent-green: #22c55e;
      --radius-large: 26px;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.08);
      --entry-red: #b91c1c;
      --placeholder: #9ca3af;
      --pdf-scale: 1;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
        system-ui, sans-serif;
      background: var(--bg);
      color: var(--text-main);
    }

    a {
      color: var(--accent-blue);
      text-decoration: none;
    }

    /* ---------- HEADER ---------- */

    .store-header {
      padding: 24px 8vw 10px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1.5rem;
    }

    .store-logo {
      font-size: clamp(2rem, 3vw, 2.8rem);
      font-weight: 700;
      background: linear-gradient(90deg, #0071e3, #34c759);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .store-right {
      text-align: right;
      font-size: 0.95rem;
      color: var(--text-main);
    }

    .store-right p:first-child {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .store-right p:last-child {
      color: var(--text-sub);
    }

    /* ---------- MAIN SECTION ---------- */

    .latest-section {
      padding: 10px 8vw 40px;
    }

    .headline {
      font-size: clamp(1.7rem, 2.4vw, 2.1rem);
      font-weight: 600;
      margin-bottom: 10px;
    }

    .headline-accent {
      color: #0071e3;
    }

    /* ---------- CONFIG PANEL (ORDER CENTER) ---------- */

    .config-panel {
      max-width: 980px;
      margin: 0 auto 20px;
      background: var(--card-bg);
      border-radius: 24px;
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 14px;
      font-size: 0.85rem;
    }

    .config-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 10px;
    }

    .config-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .config-sub {
      font-size: 0.78rem;
      color: var(--text-sub);
      margin-top: 2px;
    }

    .config-badge {
      font-size: 0.72rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e0f2fe;
      color: #0369a1;
      white-space: nowrap;
    }

    /* CATEGORY TABS (APPLE-STYLE PILLS) */

    .order-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 6px 0 10px;
    }

    .order-tab {
      border: none;
      border-radius: 99px;
      background: #ffffff;
      box-shadow: 0 8px 22px rgba(0, 0, 0, 0.04);
      padding: 6px 12px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      font-size: 0.78rem;
      color: var(--text-main);
      transition:
        background 0.2s ease,
        color 0.2s ease,
        transform 0.12s ease,
        box-shadow 0.18s ease;
    }

    .order-tab:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.08);
    }

    .order-tab .icon-pill {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: 1px solid #111827;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 600;
      color: #111827;
      background: #ffffff;
      flex-shrink: 0;
    }

    .order-tab.active {
      background: var(--accent-green);
      color: #ffffff;
      box-shadow: 0 10px 26px rgba(34, 197, 94, 0.5);
      transform: translateY(-1px);
    }

    .order-tab.active .icon-pill {
      background: #111827;
      color: #ffffff;
      border-color: #111827;
    }

    /* ORDER PANEL */

    .order-panel {
      border-radius: 18px;
      border: 1px solid #e5e7eb;
      padding: 12px 12px 10px;
      background: #f9fafb;
    }

    .order-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 8px;
    }

    .order-panel-title {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .order-panel-sub {
      font-size: 0.76rem;
      color: var(--text-sub);
      max-width: 60%;
    }

    @media (max-width: 768px) {
      .order-panel-sub {
        max-width: 100%;
      }
    }

    .order-panel-row {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 3fr);
      gap: 8px 12px;
      align-items: flex-start;
      margin-bottom: 8px;
    }

    @media (max-width: 640px) {
      .order-panel-row {
        grid-template-columns: 1fr;
      }
    }

    label {
      font-weight: 500;
      color: var(--text-main);
      font-size: 0.8rem;
    }

    /* Base inputs */
    select,
    input[type="text"] {
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      padding: 6px 9px;
      font-size: 0.8rem;
      outline: none;
      width: 100%;
      background: #ffffff;
      transition:
        border-color 0.15s ease,
        box-shadow 0.15s ease,
        background 0.15s ease;
    }

    select:focus,
    input[type="text"]:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 1px rgba(0, 113, 227, 0.2);
      background: #ffffff;
    }

    /* Bigger medication dropdown box */
    #medNameSelect {
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      padding: 12px 14px;
      font-size: 1rem;
      width: 100%;
      min-height: 260px; /* taller box */
      background: #ffffff;
    }

    .hint {
      font-size: 0.72rem;
      color: var(--text-sub);
      margin-top: 4px;
    }

    .btn-primary,
    .btn-small,
    .btn-ghost {
      border: none;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition:
        background 0.15s ease,
        color 0.15s ease,
        box-shadow 0.15s ease,
        transform 0.1s ease;
    }

    .btn-primary {
      padding: 7px 14px;
      background: #0071e3;
      color: #ffffff;
      box-shadow: 0 8px 18px rgba(0, 113, 227, 0.4);
    }

    .btn-primary:hover {
      background: #005bb5;
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(0, 113, 227, 0.5);
    }

    .btn-small {
      padding: 5px 11px;
      background: #111827;
      color: #ffffff;
      box-shadow: 0 6px 16px rgba(15, 23, 42, 0.35);
    }

    .btn-small:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.45);
    }

    .btn-ghost {
      padding: 5px 11px;
      background: transparent;
      color: var(--text-sub);
      border: 1px solid #d1d5db;
    }

    .btn-ghost:hover {
      background: #f3f4f6;
      color: var(--text-main);
    }

    .btn-icon {
      font-size: 1rem;
    }

    .config-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .preview-note {
      font-size: 0.74rem;
      color: var(--text-sub);
    }

    .order-list {
      margin-top: 6px;
      padding-left: 0;
      font-size: 0.74rem;
      color: var(--text-sub);
      max-height: 110px;
      overflow-y: auto;
      list-style: none;
    }

    .order-list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 3px;
      gap: 8px;
    }

    .order-list-text {
      flex: 1;
    }

    .order-remove-btn {
      border: none;
      background: transparent;
      color: #b91c1c;
      cursor: pointer;
      font-size: 0.8rem;
      padding: 0 4px;
    }

    .order-remove-btn:hover {
      color: #7f1d1d;
    }

    .size-control {
      font-size: 0.74rem;
      color: var(--text-sub);
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .size-control select {
      font-size: 0.74rem;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      background: #ffffff;
    }

    /* HANDOUT WRAPPER & PAGES */

    .handout-wrapper {
      background: #ffffff;
      color: #000000;
      padding: 24px;
      max-width: 8.5in;
      margin: 0 auto 30px;
      font-size: 11pt;
      border-radius: 18px;
      box-shadow: var(--shadow-soft);
      transform-origin: top left;
      transform: scale(var(--pdf-scale));
    }

    .handout-hidden .handout-wrapper {
      display: none;
    }

    .handout-page {
      page-break-inside: auto !important;
      break-inside: auto !important;
      page-break-before: auto;
      page-break-after: auto;
      margin-bottom: 0;
    }

    .handout-header {
      text-align: center;
      margin-bottom: 8px;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 6px;
    }

    .handout-header h1 {
      font-size: 16pt;
      margin-bottom: 4px;
    }

    .handout-header p {
      font-size: 9pt;
      color: #4b5563;
    }

    .clinic-line {
      font-size: 8.5pt;
    }

    .section-title {
      font-weight: 700;
      margin-top: 8px;
      margin-bottom: 3px;
      font-size: 11pt;
    }

    .body-text {
      font-size: 10pt;
      line-height: 1.35;
      margin-bottom: 3px;
    }

    .box {
      border: 1px solid #d1d5db;
      border-radius: 6px;
      padding: 5px 7px;
      margin-bottom: 4px;
    }

    .list {
      margin: 0;
      padding-left: 16px;
      font-size: 10pt;
    }

    .list li {
      margin-bottom: 2px;
    }

    .small {
      font-size: 9pt;
      color: #4b5563;
    }

    .footer-note {
      font-size: 9pt;
      color: #4b5563;
      margin-top: 8px;
    }

    .entry {
      color: var(--entry-red);
      font-weight: 600;
    }

    .entry.placeholder {
      color: var(--placeholder);
      font-weight: 400;
    }

    .underline-appointment {
      display: inline-block;
      min-width: 130px;
      border-bottom: 1px solid #9ca3af;
      padding-bottom: 1px;
    }

    #dailyExtrasBlock,
    #rescueExtrasBlock,
    #steroidExtrasBlock,
    #antibioticExtrasBlock,
    #otherMedsBlock {
      margin-top: 3px;
    }

    /* ---------- PRINT STYLES ---------- */

    @media print {
      body {
        background: #ffffff;
      }

      body * {
        visibility: hidden;
      }

      .handout-wrapper,
      .handout-wrapper * {
        visibility: visible;
      }

      .handout-wrapper {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0;
        padding: 0.7in;
        box-shadow: none;
        border-radius: 0;
        transform: scale(1); /* raw paper size */
      }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="store-header">
    <h1 class="store-logo">COPD Plan</h1>
    <div class="store-right">
      <p>AdventHealth Ottawa</p>
      <p>COPD Discharge Breathing Plan &amp; Med Orders</p>
    </div>
  </header>

  <main class="latest-section">
    <h2 class="headline">
      <span class="headline-accent">Order Center.</span> Build the patient‚Äôs COPD handout.
    </h2>

    <!-- CONFIG PANEL -->
    <section class="config-panel">
      <div class="config-header">
        <div>
          <h3 class="config-title">Medication Order Center</h3>
          <p class="config-sub">
            Select a category, choose medication from the guideline-based list, and add dose &amp; directions.
            Selected meds will drop into the patient PDF in red.
          </p>
        </div>
        <div class="config-badge">For pharmacists</div>
      </div>

      <!-- CATEGORY TABS -->
      <div class="order-tabs" id="orderTabs">
        <button class="order-tab active" data-type="daily">
          <span class="icon-pill">D</span>
          Daily inhaler (controller)
        </button>
        <button class="order-tab" data-type="rescue">
          <span class="icon-pill">R</span>
          Rescue inhaler (quick relief)
        </button>
        <button class="order-tab" data-type="steroid">
          <span class="icon-pill">S</span>
          Steroid (if prescribed)
        </button>
        <button class="order-tab" data-type="antibiotic">
          <span class="icon-pill">A</span>
          Antibiotic (if prescribed)
        </button>
        <button class="order-tab" data-type="other">
          <span class="icon-pill">O</span>
          Other
        </button>
      </div>

      <!-- CUSTOM INPUT FOR "OTHER" -->
      <div id="otherCustomInput" style="display:none; margin-top:8px;">
        <label for="customMedInput">Enter medication name</label>
        <input 
          type="text" 
          id="customMedInput" 
          placeholder="Type medication not in list..."
          style="width:100%; padding:8px; border-radius:8px; border:1px solid #d1d5db;"
        />
      </div>

      <!-- ORDER PANEL -->
      <div class="order-panel">
        <div class="order-panel-header">
          <div>
            <div class="order-panel-title" id="activeCategoryTitle">
              Daily inhaler (controller)
            </div>
            <div class="order-panel-sub" id="activeCategorySub">
              Select a controller inhaler by combination group, then adjust dose/directions as needed.
            </div>
          </div>
        </div>

        <div class="order-panel-row">
          <div>
            <label for="medSearch">Search medication</label>
            <input
              type="text"
              id="medSearch"
              placeholder="Start typing name or class..."
            />
            <p class="hint">
              Filters the list below for the current category only.
            </p>
          </div>
          <div>
            <label for="medNameSelect">Medication list (by combo/group)</label>
            <select id="medNameSelect" size="12"></select>
            <p class="hint">
              Shows only medications for the active category (Daily / Rescue / Steroid / Antibiotic / Other).
            </p>
          </div>
        </div>

        <div class="order-panel-row">
          <div>
            <label for="doseInput">Dose (type)</label>
            <input
              type="text"
              id="doseInput"
              placeholder="e.g., 2 inhalations once daily, 40 mg, etc."
            />
          </div>
          <div>
            <label for="dirInput">Directions</label>
            <input
              type="text"
              id="dirInput"
              placeholder="e.g., Inhale once daily, take for 5 days, etc."
            />
          </div>
        </div>

        <button type="button" class="btn-small" id="addOrderBtn">
          <span class="btn-icon">‚ûï</span> Add medication to handout
        </button>

        <p class="hint" style="margin-top:6px;">
          First med in each category becomes the main line (e.g., ‚ÄúMy daily inhaler‚Ä¶‚Äù).
          Others appear as ‚ÄúOther daily inhalers‚Äù, ‚ÄúOther antibiotics‚Äù, etc. Remove items with the ‚úï button.
        </p>

        <ul id="orderList" class="order-list"></ul>
      </div>

      <!-- ACTIONS -->
      <div class="config-actions">
        <div class="size-control">
          <span>PDF size:</span>
          <select id="pdfScaleSelect">
            <option value="0.9">Small (fit more)</option>
            <option value="1" selected>Standard</option>
            <option value="1.1">Large</option>
          </select>
        </div>

        <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
          <button class="btn-ghost" id="togglePdfBtn">
            üëÅÔ∏è Hide patient PDF
          </button>
          <span class="preview-note">Use Print ‚Üí ‚ÄúSave as PDF‚Äù to download the patient handout.</span>
          <button class="btn-primary" id="printBtn">
            <span class="btn-icon">üìÑ</span>
            Print / Save as PDF
          </button>
        </div>
      </div>
    </section>

    <!-- PATIENT PDF (2 PAGES) -->
    <section id="pdfContainer" class="handout-hidden">
      <div class="handout-wrapper" id="handout">
        <!-- PAGE 1 -->
        <div class="handout-page">
          <div class="handout-header">
            <h1>COPD Breathing Plan &amp; Home Instructions</h1>
            <p>(For you to take home)</p>
            <p class="clinic-line"><strong>Clinic:</strong> AdventHealth Ottawa</p>
            <p class="clinic-line">
              <strong>Address:</strong> 1301 South Main Street, Ottawa, KS 66067
            </p>
            <p class="clinic-line">
              <strong>Phone:</strong> 785-229-8200
            </p>
          </div>

          <!-- 1. WHAT IS COPD -->
          <div class="section-title">1. What is COPD?</div>
          <div class="box">
            <p class="body-text">
              You have COPD (chronic obstructive pulmonary disease). This means your airways
              are more narrow and it can be harder to breathe.
            </p>
            <p class="body-text">
              You may have:
            </p>
            <ul class="list">
              <li>Cough</li>
              <li>Mucus</li>
              <li>Shortness of breath</li>
            </ul>
            <p class="body-text" style="margin-top:3px;">
              The medicines and tips on this page can help you:
            </p>
            <ul class="list">
              <li>Breathe easier</li>
              <li>Stay out of the hospital</li>
              <li>Keep doing the things you enjoy</li>
            </ul>
          </div>

          <!-- 2. DAILY INHALER -->
          <div class="section-title">2. Your Daily Inhaler (Use Every Day)</div>
          <div class="box">
            <p class="body-text">
              These inhalers are your <strong>daily controllers</strong>. They work best
              when you use them every day, even when you feel good.
            </p>
            <p class="body-text">
              <strong>My daily inhaler and dose:</strong>
              <span id="outDailyFull" class="entry placeholder">not filled in</span>
            </p>
            <p class="body-text">
              <strong>How often I use it:</strong>
              <span id="outDailyDir" class="entry placeholder">not filled in</span>
            </p>
            <p class="body-text" style="margin-top:3px;">
              What this inhaler does:
            </p>
            <ul class="list">
              <li>Helps keep your airways open</li>
              <li>Helps prevent flare-ups and hospital visits</li>
            </ul>

            <div id="dailyExtrasBlock" class="body-text" style="display:none;">
              <strong>Other daily inhalers:</strong>
              <ul class="list" id="dailyExtrasList"></ul>
            </div>

            <p class="small" style="margin-top:3px;">
              Use your daily inhaler every day, even on ‚Äúgood‚Äù days. Try to take it at the same
              time each day (for example, with brushing your teeth).
            </p>

            <!-- NEW: Tiotropium Respimat PDF link block -->
            <p id="tiotropiumRespimatInstructions" class="small" style="margin-top:4px; display:none;">
              <strong>Device instructions:</strong>
              You are using <strong>Tiotropium Respimat¬Æ</strong>.
              For step-by-step picture instructions on how to use this inhaler, open:
              <a href="Tiotropium.pdf" target="_blank">Tiotropium Respimat¬Æ user guide (PDF)</a>.
            </p>
            <!-- END NEW BLOCK -->

          </div>

          <!-- 3. RESCUE INHALER -->
          <div class="section-title">3. Your Rescue Inhaler (Quick Relief)</div>
          <div class="box">
            <p class="body-text">
              This is your <strong>rescue</strong> or <strong>quick relief</strong> inhaler.
              Use it when your breathing suddenly gets worse.
            </p>
            <p class="body-text">
              <strong>My rescue inhaler (name and dose):</strong>
              <span id="outRescueFull" class="entry placeholder">not filled in</span>
            </p>
            <p class="body-text">
              <strong>How I use it:</strong>
              <span id="outRescueDir" class="entry placeholder">not filled in</span>
            </p>

            <div id="rescueExtrasBlock" class="body-text" style="display:none;">
              <strong>Other rescue inhalers:</strong>
              <ul class="list" id="rescueExtrasList"></ul>
            </div>

            <p class="body-text" style="margin-top:3px;">
              Use your rescue inhaler when you:
            </p>
            <ul class="list">
              <li>Feel more short of breath than usual</li>
              <li>Have more wheezing or chest tightness</li>
            </ul>
            <p class="small" style="margin-top:3px;">
              Do not use it on a fixed schedule every day unless your doctor tells you to.
              If you need your rescue inhaler more often than usual, follow the Yellow Zone
              steps and call your clinic.
            </p>
          </div>

          <!-- 4. INHALER USE -->
          <div class="section-title">4. How to Use Your Inhaler</div>
          <div class="box">
            <p class="body-text">
              These are general steps. Your nurse or pharmacist may adjust them for your device.
            </p>
            <ul class="list">
              <li>Sit or stand up straight.</li>
              <li>Breathe out slowly, away from the inhaler.</li>
              <li>Put the mouthpiece in your mouth and seal your lips around it.</li>
              <li>Breathe in like your provider showed you.</li>
              <li>Hold your breath for about 10 seconds if you can.</li>
              <li>Breathe out slowly.</li>
            </ul>
            <p class="small" style="margin-top:3px;">
              Before you go home, ask: ‚ÄúCan you watch me use my inhaler to make sure I am doing it right?‚Äù
              It is always okay to ask questions.
            </p>
          </div>
        </div>

        <!-- PAGE 2 -->
        <div class="handout-page">
          <p class="small" style="text-align:right; margin-bottom:3px;">
            COPD Breathing Plan ‚Äì Page 2
          </p>

          <!-- 5. ZONES -->
          <div class="section-title">5. COPD Zones ‚Äì When To Act</div>

          <div class="box">
            <p class="small"><strong>Green Zone ‚Äì Doing Well</strong></p>
            <ul class="list">
              <li>Your breathing feels like your usual ‚Äúnormal‚Äù.</li>
              <li>Your cough and mucus are about the same as usual.</li>
              <li>You can do your daily activities.</li>
            </ul>
            <p class="small">
              Keep using your daily inhalers as prescribed. Use your rescue inhaler only when you need it.
            </p>
          </div>

          <div class="box">
            <p class="small"><strong>Yellow Zone ‚Äì Warning (Call Your Clinic)</strong></p>
            <ul class="list">
              <li>You are more short of breath than usual.</li>
              <li>You have more cough or your mucus is thicker or changes color.</li>
              <li>You need your rescue inhaler more often than usual.</li>
            </ul>
            <p class="small">
              What to do:
            </p>
            <ul class="list">
              <li>Use your rescue inhaler as directed.</li>
              <li>Call your doctor or clinic within 24 hours for instructions.</li>
            </ul>
            <p class="small">
              Your provider may add a short course of steroid pills or antibiotics if needed.
            </p>
          </div>

          <div class="box">
            <p class="small"><strong>Red Zone ‚Äì Emergency (Call 911)</strong></p>
            <ul class="list">
              <li>It is very hard to breathe, even when you are resting.</li>
              <li>You cannot speak in full sentences because of shortness of breath.</li>
              <li>Your lips or fingertips look blue.</li>
              <li>You feel confused, very dizzy, or have chest pain.</li>
              <li>Your rescue inhaler is not helping or wears off very fast.</li>
            </ul>
            <p class="small">
              This is an emergency. Call 911 right away or have someone take you to the closest Emergency Room.
              Do not wait to see if it gets better on its own.
            </p>
          </div>

          <!-- 6. OTHER MEDS -->
          <div class="section-title">6. Other Medicines You May Receive</div>
          <div class="box">
            <p class="small">
              During or after your hospital stay, you may get:
            </p>
            <ul class="list">
              <li>
                <strong>Steroid pills</strong> (for example, prednisone) to reduce swelling and irritation in your lungs.
              </li>
              <li>
                <strong>Antibiotics</strong> if your team thinks you have a lung infection.
              </li>
            </ul>
            <p class="body-text" style="margin-top:3px;">
              <strong>My steroid medicine and dose:</strong>
              <span id="outSteroidFull" class="entry placeholder">not filled in</span>
            </p>
            <p class="body-text">
              <strong>How long I take it / directions:</strong>
              <span id="outSteroidDir" class="entry placeholder">not filled in</span>
            </p>
            <p class="body-text" style="margin-top:3px;">
              <strong>My antibiotic and dose:</strong>
              <span id="outAntibioticFull" class="entry placeholder">not filled in</span>
            </p>
            <p class="body-text">
              <strong>How long I take it / directions:</strong>
              <span id="outAntibioticDir" class="entry placeholder">not filled in</span>
            </p>

            <div id="steroidExtrasBlock" class="body-text" style="display:none;">
              <strong>Other steroid medicines:</strong>
              <ul class="list" id="steroidExtrasList"></ul>
            </div>

            <div id="antibioticExtrasBlock" class="body-text" style="display:none;">
              <strong>Other antibiotics:</strong>
              <ul class="list" id="antibioticExtrasList"></ul>
            </div>

            <div id="otherMedsBlock" class="body-text" style="display:none;">
              <strong>Other medicines:</strong>
              <ul class="list" id="otherMedsList"></ul>
            </div>

            <p class="small" style="margin-top:3px;">
              Take these medicines exactly as told. Do not stop early unless your doctor tells you to.
            </p>
          </div>

          <!-- 7. SMOKING -->
          <div class="section-title">7. Smoking and Your Lungs</div>
          <div class="box">
            <p class="small">
              If you smoke, quitting is the most important thing you can do to slow down COPD.
            </p>
            <ul class="list">
              <li>Ask your care team about nicotine patches, gum, lozenges, or other quit-smoking medicines.</li>
              <li>Ask about quit-smoking programs or classes.</li>
              <li>Many places have a free quitline like <strong>1-800-QUIT-NOW</strong>.</li>
            </ul>
            <p class="body-text" style="margin-top:3px;">
              <strong>My quit plan notes:</strong>
            </p>
            <p class="body-text">&nbsp;</p>
            <p class="body-text">&nbsp;</p>
          </div>

          <!-- 8. FOLLOW UP -->
          <div class="section-title">8. Follow-Up After You Leave the Hospital</div>
          <div class="box">
            <p class="small">
              See your doctor or clinic within <strong>2‚Äì4 weeks</strong> after leaving the hospital.
              Bring this sheet and all of your inhalers to your appointment.
            </p>
            <p class="body-text" style="margin-top:3px;">
              <strong>Clinic/Doctor:</strong> AdventHealth Ottawa
            </p>
            <p class="body-text">
              <strong>Address:</strong> 1301 South Main Street, Ottawa, KS 66067
            </p>
            <p class="body-text">
              <strong>Phone number:</strong> 785-229-8200
            </p>
            <p class="body-text">
              <strong>Appointment date:</strong>
              <span class="underline-appointment">__________________________</span>
            </p>
          </div>

          <!-- 9. FINAL NOTE -->
          <p class="footer-note">
            This page is general education. Always follow the specific instructions given by your doctors, nurses,
            and pharmacists. If you are unsure what to do, call your clinic and ask.
          </p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ===== MEDICATION DATA =====
    const medData = [
      // DAILY CONTROLLERS ‚Äì LAMA
      {
        id: "d-tiotr-resp",
        type: "daily",
        group: "LAMA (long-acting muscarinic antagonist)",
        name: "Tiotropium Respimat¬Æ",
        defaultDose: "2 inhalations once daily",
        defaultDir: "Inhale 2 puffs once daily"
      },
      {
        id: "d-tiotr-hand",
        type: "daily",
        group: "LAMA (long-acting muscarinic antagonist)",
        name: "Tiotropium HandiHaler¬Æ",
        defaultDose: "1 capsule inhaled once daily",
        defaultDir: "Inhale contents of 1 capsule once daily"
      },
      {
        id: "d-umecli",
        type: "daily",
        group: "LAMA (long-acting muscarinic antagonist)",
        name: "Umeclidinium (Incruse Ellipta¬Æ)",
        defaultDose: "1 inhalation once daily",
        defaultDir: "Inhale 1 puff once daily"
      },

      // DAILY CONTROLLERS ‚Äì LABA/LAMA
      {
        id: "d-anoro",
        type: "daily",
        group: "LABA/LAMA",
        name: "Umeclidinium/Vilanterol (Anoro Ellipta¬Æ)",
        defaultDose: "1 inhalation once daily",
        defaultDir: "Inhale 1 puff once daily"
      },
      {
        id: "d-stiolto",
        type: "daily",
        group: "LABA/LAMA",
        name: "Tiotropium/Olodaterol (Stiolto Respimat¬Æ)",
        defaultDose: "2 inhalations once daily",
        defaultDir: "Inhale 2 puffs once daily"
      },
      {
        id: "d-bevespi",
        type: "daily",
        group: "LABA/LAMA",
        name: "Glycopyrrolate/Formoterol (Bevespi Aerosphere¬Æ)",
        defaultDose: "2 inhalations twice daily",
        defaultDir: "Inhale 2 puffs twice daily"
      },

      // DAILY CONTROLLERS ‚Äì LABA/ICS
      {
        id: "d-symbicort",
        type: "daily",
        group: "LABA/ICS",
        name: "Budesonide/Formoterol (Symbicort¬Æ)",
        defaultDose: "2 inhalations twice daily",
        defaultDir: "Inhale 2 puffs twice daily"
      },
      {
        id: "d-advair",
        type: "daily",
        group: "LABA/ICS",
        name: "Fluticasone/Salmeterol (Advair¬Æ)",
        defaultDose: "1‚Äì2 inhalations twice daily",
        defaultDir: "Inhale as prescribed, usually twice daily"
      },

      // DAILY CONTROLLERS ‚Äì TRIPLE
      {
        id: "d-trelegy",
        type: "daily",
        group: "Triple therapy (LABA/LAMA/ICS)",
        name: "Fluticasone/Umeclidinium/Vilanterol (Trelegy Ellipta¬Æ)",
        defaultDose: "1 inhalation once daily",
        defaultDir: "Inhale 1 puff once daily"
      },

      // RESCUE INHALERS
      {
        id: "r-alb-hfa",
        type: "rescue",
        group: "SABA ‚Äì Metered-dose inhaler",
        name: "Albuterol HFA (ProAir¬Æ, Ventolin¬Æ, Proventil¬Æ)",
        defaultDose: "2 puffs (90 mcg each)",
        defaultDir: "Inhale 2 puffs every 4‚Äì6 hours as needed"
      },
      {
        id: "r-lev-hfa",
        type: "rescue",
        group: "SABA ‚Äì Metered-dose inhaler",
        name: "Levalbuterol HFA (Xopenex¬Æ)",
        defaultDose: "1‚Äì2 puffs",
        defaultDir: "Inhale 1‚Äì2 puffs every 4‚Äì6 hours as needed"
      },
      {
        id: "r-alb-neb",
        type: "rescue",
        group: "SABA ‚Äì Nebulizer solution",
        name: "Albuterol nebulizer solution",
        defaultDose: "2.5 mg neb",
        defaultDir: "Use nebulizer treatment every 4‚Äì6 hours as needed"
      },

      // STEROIDS ‚Äì ORAL SYSTEMIC
      {
        id: "s-pred-40x5",
        type: "steroid",
        group: "Prednisone (oral)",
        name: "Prednisone",
        defaultDose: "40 mg once daily",
        defaultDir: "Take once daily for 5 days"
      },
      {
        id: "s-pred-7",
        type: "steroid",
        group: "Prednisone (oral)",
        name: "Prednisone (7-day course)",
        defaultDose: "40 mg once daily",
        defaultDir: "Take once daily for 7 days"
      },
      {
        id: "s-prednisolone",
        type: "steroid",
        group: "Prednisolone (oral)",
        name: "Prednisolone",
        defaultDose: "40 mg once daily",
        defaultDir: "Take once daily as prescribed"
      },
      {
        id: "s-medrol",
        type: "steroid",
        group: "Methylprednisolone (oral)",
        name: "Methylprednisolone (Medrol¬Æ tablets)",
        defaultDose: "Dose pack as prescribed",
        defaultDir: "Take as written on your prescription"
      },
      {
        id: "s-dexamethasone",
        type: "steroid",
        group: "Dexamethasone (oral)",
        name: "Dexamethasone",
        defaultDose: "4‚Äì8 mg once daily",
        defaultDir: "Take once daily as prescribed"
      },
      {
        id: "s-hydrocortisone",
        type: "steroid",
        group: "Hydrocortisone (oral)",
        name: "Hydrocortisone tablets",
        defaultDose: "As prescribed",
        defaultDir: "Take as written on your prescription"
      },
      {
        id: "s-budesonide-oral",
        type: "steroid",
        group: "Budesonide (oral)",
        name: "Budesonide capsules/tablets",
        defaultDose: "As prescribed",
        defaultDir: "Take as written on your prescription"
      },

      // ANTIBIOTICS ‚Äì ORAL
      { id: "a-penvk", type: "antibiotic", group: "Penicillin", name: "Penicillin V potassium (Pen VK)", defaultDose: "500 mg every 6 hours", defaultDir: "Take every 6 hours as prescribed" },
      { id: "a-amox", type: "antibiotic", group: "Aminopenicillin", name: "Amoxicillin", defaultDose: "500‚Äì875 mg every 8‚Äì12 hours", defaultDir: "Take as written on your prescription" },
      { id: "a-augmentin", type: "antibiotic", group: "Aminopenicillin + beta-lactamase inhibitor", name: "Amoxicillin-clavulanate (Augmentin¬Æ)", defaultDose: "875/125 mg twice daily", defaultDir: "Take 1 tablet twice daily for 5‚Äì7 days" },

      { id: "a-cephalexin", type: "antibiotic", group: "First-generation cephalosporin", name: "Cephalexin", defaultDose: "500 mg every 6 hours", defaultDir: "Take every 6 hours as prescribed" },
      { id: "a-cefurox", type: "antibiotic", group: "Second-generation cephalosporin", name: "Cefuroxime", defaultDose: "500 mg twice daily", defaultDir: "Take twice daily for 5‚Äì7 days" },
      { id: "a-cefpodox", type: "antibiotic", group: "Third-generation cephalosporin", name: "Cefpodoxime", defaultDose: "200 mg twice daily", defaultDir: "Take twice daily as prescribed" },
      { id: "a-cefdinir", type: "antibiotic", group: "Third-generation cephalosporin", name: "Cefdinir", defaultDose: "300 mg twice daily", defaultDir: "Take twice daily as prescribed" },

      { id: "a-doxy", type: "antibiotic", group: "Tetracycline", name: "Doxycycline", defaultDose: "100 mg twice daily", defaultDir: "Take twice daily for 5‚Äì7 days" },
      { id: "a-minocycline", type: "antibiotic", group: "Tetracycline", name: "Minocycline", defaultDose: "100 mg twice daily", defaultDir: "Take twice daily as prescribed" },

      { id: "a-azith", type: "antibiotic", group: "Macrolide", name: "Azithromycin (Z-Pak¬Æ)", defaultDose: "As per Z-Pak schedule", defaultDir: "Take as written on your prescription" },
      { id: "a-clarith", type: "antibiotic", group: "Macrolide", name: "Clarithromycin", defaultDose: "500 mg twice daily", defaultDir: "Take twice daily as prescribed" },

      { id: "a-levoflox", type: "antibiotic", group: "Fluoroquinolone", name: "Levofloxacin", defaultDose: "500‚Äì750 mg once daily", defaultDir: "Take once daily as prescribed" },
      { id: "a-moxiflox", type: "antibiotic", group: "Fluoroquinolone", name: "Moxifloxacin", defaultDose: "400 mg once daily", defaultDir: "Take once daily as prescribed" },
      { id: "a-ciproflox", type: "antibiotic", group: "Fluoroquinolone", name: "Ciprofloxacin", defaultDose: "500‚Äì750 mg twice daily", defaultDir: "Take twice daily as prescribed" },

      { id: "a-tmp-smx", type: "antibiotic", group: "Sulfonamide", name: "Trimethoprim-sulfamethoxazole (Bactrim¬Æ, Septra¬Æ)", defaultDose: "1‚Äì2 DS tablets twice daily", defaultDir: "Take twice daily as prescribed" },

      { id: "a-clinda", type: "antibiotic", group: "Lincosamide", name: "Clindamycin", defaultDose: "300‚Äì450 mg every 6‚Äì8 hours", defaultDir: "Take as written on your prescription" },

      { id: "a-linezolid", type: "antibiotic", group: "Oxazolidinone", name: "Linezolid", defaultDose: "600 mg twice daily", defaultDir: "Take twice daily as prescribed" },

      // OTHER
      {
        id: "o-roflumilast",
        type: "other",
        group: "PDE4 inhibitor",
        name: "Roflumilast (Daliresp¬Æ)",
        defaultDose: "500 mcg once daily",
        defaultDir: "Take once daily"
      },
      {
        id: "o-azith-chronic",
        type: "other",
        group: "Chronic macrolide",
        name: "Azithromycin chronic prophylaxis",
        defaultDose: "250‚Äì500 mg three times per week",
        defaultDir: "Take as written on your prescription"
      },
      {
        id: "o-theophylline",
        type: "other",
        group: "Methylxanthine",
        name: "Theophylline",
        defaultDose: "As prescribed",
        defaultDir: "Take as written on your prescription"
      },
      {
        id: "o-montelukast",
        type: "other",
        group: "Leukotriene modifier",
        name: "Montelukast",
        defaultDose: "10 mg once daily",
        defaultDir: "Take once daily in the evening"
      }
    ];

    // ===== STATE & ELEMENTS =====
    let activeType = "daily";
    let nextOrderId = 1;
    const orders = [];

    const tabsContainer = document.getElementById("orderTabs");
    const medSearch = document.getElementById("medSearch");
    const medNameSelect = document.getElementById("medNameSelect");
    const doseInput = document.getElementById("doseInput");
    const dirInput = document.getElementById("dirInput");
    const addOrderBtn = document.getElementById("addOrderBtn");
    const orderList = document.getElementById("orderList");
    const activeCategoryTitle = document.getElementById("activeCategoryTitle");
    const activeCategorySub = document.getElementById("activeCategorySub");
    const printBtn = document.getElementById("printBtn");
    const pdfScaleSelect = document.getElementById("pdfScaleSelect");
    const togglePdfBtn = document.getElementById("togglePdfBtn");
    const pdfContainer = document.getElementById("pdfContainer");

    const outDailyFull = document.getElementById("outDailyFull");
    const outDailyDir = document.getElementById("outDailyDir");
    const outRescueFull = document.getElementById("outRescueFull");
    const outRescueDir = document.getElementById("outRescueDir");
    const outSteroidFull = document.getElementById("outSteroidFull");
    const outSteroidDir = document.getElementById("outSteroidDir");
    const outAntibioticFull = document.getElementById("outAntibioticFull");
    const outAntibioticDir = document.getElementById("outAntibioticDir");

    const dailyExtrasBlock = document.getElementById("dailyExtrasBlock");
    const dailyExtrasList = document.getElementById("dailyExtrasList");
    const rescueExtrasBlock = document.getElementById("rescueExtrasBlock");
    const rescueExtrasList = document.getElementById("rescueExtrasList");
    const steroidExtrasBlock = document.getElementById("steroidExtrasBlock");
    const steroidExtrasList = document.getElementById("steroidExtrasList");
    const antibioticExtrasBlock = document.getElementById("antibioticExtrasBlock");
    const antibioticExtrasList = document.getElementById("antibioticExtrasList");
    const otherMedsBlock = document.getElementById("otherMedsBlock");
    const otherMedsList = document.getElementById("otherMedsList");

    // NEW: Tiotropium Respimat instructions block element
    const tiotropiumRespimatInstructions =
      document.getElementById("tiotropiumRespimatInstructions");
    // END NEW

    function categoryLabels(type) {
      switch (type) {
        case "daily":
          return {
            title: "Daily inhaler (controller)",
            sub: "Select a controller inhaler by combination group, then adjust dose/directions as needed."
          };
        case "rescue":
          return {
            title: "Rescue inhaler (quick relief)",
            sub: "Short-acting inhalers or nebulizers for sudden shortness of breath."
          };
        case "steroid":
          return {
            title: "Steroid (if prescribed)",
            sub: "Short courses of oral steroids used for COPD flare-ups."
          };
        case "antibiotic":
          return {
            title: "Antibiotic (if prescribed)",
            sub: "Common oral antibiotics. Use only when your team thinks the patient has an infection."
          };
        case "other":
          return {
            title: "Other breathing medicines",
            sub: "Medicines like roflumilast, chronic macrolides, or others used for COPD care."
          };
        default:
          return { title: "", sub: "" };
      }
    }

    function setActiveType(newType) {
      // Show custom input for "other" category
      if (newType === "other") {
        document.getElementById("otherCustomInput").style.display = "block";
        medNameSelect.style.display = "none";
      } else {
        document.getElementById("otherCustomInput").style.display = "none";
        medNameSelect.style.display = "block";
      }

      activeType = newType;
      const tabs = tabsContainer.querySelectorAll(".order-tab");
      tabs.forEach((btn) => {
        if (btn.getAttribute("data-type") === newType) {
          btn.classList.add("active");
        } else {
          btn.classList.remove("active");
        }
      });

      const labels = categoryLabels(newType);
      activeCategoryTitle.textContent = labels.title;
      activeCategorySub.textContent = labels.sub;

      medSearch.value = "";
      renderMedOptions();
    }

    function renderMedOptions() {
      medNameSelect.innerHTML = "";
      const search = medSearch.value.toLowerCase().trim();

      const filtered = medData.filter((m) => {
        if (m.type !== activeType) return false;
        if (!search) return true;
        return (
          m.name.toLowerCase().includes(search) ||
          m.group.toLowerCase().includes(search)
        );
      });

      if (!filtered.length) {
        const opt = document.createElement("option");
        opt.disabled = true;
        opt.textContent = "No medications match this search.";
        medNameSelect.appendChild(opt);
        doseInput.value = "";
        dirInput.value = "";
        return;
      }

      const groups = {};
      filtered.forEach((m) => {
        if (!groups[m.group]) groups[m.group] = [];
        groups[m.group].push(m);
      });

      Object.keys(groups).forEach((groupName) => {
        const og = document.createElement("optgroup");
        og.label = groupName;
        groups[groupName].forEach((m) => {
          const opt = document.createElement("option");
          opt.value = m.id;
          opt.textContent = m.name;
          og.appendChild(opt);
        });
        medNameSelect.appendChild(og);
      });

      if (medNameSelect.options.length > 0) {
        medNameSelect.selectedIndex = 0;
        applySelectedMedDefaults();
      }
    }

    function findMedById(id) {
      return medData.find((m) => m.id === id);
    }

    function applySelectedMedDefaults() {
      const opt = medNameSelect.options[medNameSelect.selectedIndex];
      if (!opt || !opt.value || opt.disabled) {
        doseInput.value = "";
        dirInput.value = "";
        return;
      }
      const med = findMedById(opt.value);
      if (!med) {
        doseInput.value = "";
        dirInput.value = "";
        return;
      }
      doseInput.value = med.defaultDose || "";
      dirInput.value = med.defaultDir || "";
    }

    function updateEntry(el, value) {
      if (value && value.trim() !== "") {
        el.textContent = value;
        el.classList.remove("placeholder");
      } else {
        el.textContent = "not filled in";
        el.classList.add("placeholder");
      }
    }

    function renderOrders() {
      orderList.innerHTML = "";

      orders.forEach((o) => {
        const li = document.createElement("li");
        li.className = "order-list-item";
        li.dataset.id = String(o.id);

        const textDiv = document.createElement("div");
        textDiv.className = "order-list-text";
        let txt = `${o.typeLabel}: ${o.name}`;
        if (o.dose) txt += ` (${o.dose})`;
        if (o.dir) txt += ` ‚Äì ${o.dir}`;
        textDiv.textContent = txt;

        const btn = document.createElement("button");
        btn.className = "order-remove-btn";
        btn.type = "button";
        btn.textContent = "‚úï";
        btn.title = "Remove";

        li.appendChild(textDiv);
        li.appendChild(btn);
        orderList.appendChild(li);
      });

      const dailyMedList = orders.filter((o) => o.type === "daily");
      const rescueMedList = orders.filter((o) => o.type === "rescue");
      const steroidMedList = orders.filter((o) => o.type === "steroid");
      const antibioticMedList = orders.filter((o) => o.type === "antibiotic");
      const otherMedList = orders.filter((o) => o.type === "other");

      function applyCategory(primaryList, outFullSpan, outDirSpan, extrasList, extrasBlock) {
        if (!primaryList.length) {
          updateEntry(outFullSpan, "");
          updateEntry(outDirSpan, "");
          extrasBlock.style.display = "none";
          return;
        }
        const first = primaryList[0];
        const full = first.dose ? `${first.name} (${first.dose})` : first.name;
        updateEntry(outFullSpan, full);
        updateEntry(outDirSpan, first.dir || "");

        const extras = primaryList.slice(1);
        extrasList.innerHTML = "";
        if (!extras.length) {
          extrasBlock.style.display = "none";
        } else {
          extrasBlock.style.display = "block";
          extras.forEach((o) => {
            const li = document.createElement("li");
            li.className = "entry";
            const text = o.dose ? `${o.name} (${o.dose})` : o.name;
            li.textContent = o.dir ? `${text} ‚Äì ${o.dir}` : text;
            extrasList.appendChild(li);
          });
        }
      }

      applyCategory(
        dailyMedList,
        outDailyFull,
        outDailyDir,
        dailyExtrasList,
        dailyExtrasBlock
      );
      applyCategory(
        rescueMedList,
        outRescueFull,
        outRescueDir,
        rescueExtrasList,
        rescueExtrasBlock
      );
      applyCategory(
        steroidMedList,
        outSteroidFull,
        outSteroidDir,
        steroidExtrasList,
        steroidExtrasBlock
      );
      applyCategory(
        antibioticMedList,
        outAntibioticFull,
        outAntibioticDir,
        antibioticExtrasList,
        antibioticExtrasBlock
      );

      otherMedsList.innerHTML = "";
      if (!otherMedList.length) {
        otherMedsBlock.style.display = "none";
      } else {
        otherMedsBlock.style.display = "block";
        otherMedList.forEach((o) => {
          const li = document.createElement("li");
          li.className = "entry";
          const text = o.dose ? `${o.name} (${o.dose})` : o.name;
          li.textContent = o.dir ? `${text} ‚Äì ${o.dir}` : text;
          otherMedsList.appendChild(li);
        });
      }

      // NEW: toggle Tiotropium Respimat instructions block
      if (tiotropiumRespimatInstructions) {
        const hasTiotropiumResp = dailyMedList.some(
          (o) => o.name && o.name.indexOf("Tiotropium Respimat") !== -1
        );
        tiotropiumRespimatInstructions.style.display = hasTiotropiumResp
          ? "block"
          : "none";
      }
      // END NEW
    }

    // ===== EVENT HANDLERS =====
    tabsContainer.addEventListener("click", (e) => {
      const btn = e.target.closest(".order-tab");
      if (!btn) return;
      const type = btn.getAttribute("data-type");
      if (!type) return;
      setActiveType(type);
    });

    medSearch.addEventListener("input", () => {
      renderMedOptions();
    });

    medNameSelect.addEventListener("change", () => {
      applySelectedMedDefaults();
    });

    addOrderBtn.addEventListener("click", () => {
      let name = "";
      const dose = (doseInput.value || "").trim();
      const dir = (dirInput.value || "").trim();

      if (activeType === "other") {
        name = (document.getElementById("customMedInput").value || "").trim();
        if (!name) {
          alert("Please type a medication name.");
          return;
        }
      } else {
        const opt = medNameSelect.options[medNameSelect.selectedIndex];
        if (!opt || !opt.value || opt.disabled) {
          alert("Please select a medication from the list.");
          return;
        }
        const med = findMedById(opt.value);
        if (!med) {
          alert("Selected medication not found.");
          return;
        }
        name = med.name;
      }

      let typeLabel = "";
      switch (activeType) {
        case "daily":
          typeLabel = "Daily inhaler";
          break;
        case "rescue":
          typeLabel = "Rescue inhaler";
          break;
        case "steroid":
          typeLabel = "Steroid";
          break;
        case "antibiotic":
          typeLabel = "Antibiotic";
          break;
        case "other":
          typeLabel = "Other med";
          break;
      }

      orders.push({
        id: nextOrderId++,
        type: activeType,
        typeLabel,
        name,
        dose,
        dir
      });

      renderOrders();
    });

    orderList.addEventListener("click", (e) => {
      const btn = e.target.closest(".order-remove-btn");
      if (!btn) return;
      const li = btn.closest(".order-list-item");
      if (!li) return;
      const id = Number(li.dataset.id);
      const idx = orders.findIndex((o) => o.id === id);
      if (idx !== -1) {
        orders.splice(idx, 1);
        renderOrders();
      }
    });

    // PDF size control
    pdfScaleSelect.addEventListener("change", () => {
      const val = pdfScaleSelect.value || "1";
      document.documentElement.style.setProperty("--pdf-scale", val);
    });

    // Hide / show PDF on screen
    togglePdfBtn.addEventListener("click", () => {
      const hidden = pdfContainer.classList.toggle("handout-hidden");
      togglePdfBtn.textContent = hidden
        ? "üëÅÔ∏è Show patient PDF"
        : "üëÅÔ∏è Hide patient PDF";
    });

    // Print handler
    printBtn.addEventListener("click", () => {
      renderOrders();
      window.print();
    });

    // INIT
    setActiveType("daily");
    renderMedOptions();
    renderOrders();
    document.documentElement.style.setProperty("--pdf-scale", pdfScaleSelect.value || "1");
    togglePdfBtn.textContent = "üëÅÔ∏è Show patient PDF";
  </script>
</body>
</html>
